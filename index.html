<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema di Gestione Dati</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1e88e5;
            --secondary-color: #64b5f6;
            --background-color: #f5f9ff;
            --text-color: #2c3e50;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background: var(--background-color);
            color: var(--text-color);
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .input-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(30, 136, 229, 0.1);
            outline: none;
        }

        .radio-group {
            display: flex;
            gap: 2rem;
            margin-top: 0.5rem;
        }

        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-label input[type="radio"] {
            margin-right: 0.5rem;
        }

        button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 1rem;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 136, 229, 0.3);
        }

        .data-display {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .table-container {
            overflow-x: auto;
            margin-top: 1rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e1e1e1;
        }

        th {
            background: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            box-shadow: var(--shadow);
        }

        .chart-title {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        /* Animazioni */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-database"></i> Sistema di Gestione Dati</h1>
    </div>

    <div class="container">
        <div class="input-card fade-in">
            <h2><i class="fas fa-user-plus"></i> Inserimento Dati</h2>
            <form id="dataForm">
                <div class="form-group">
                    <label for="firstName">Nome:</label>
                    <input type="text" id="firstName" required>
                </div>

                <div class="form-group">
                    <label for="lastName">Cognome:</label>
                    <input type="text" id="lastName" required>
                </div>

                <div class="form-group">
                    <label for="age">Età:</label>
                    <input type="number" id="age" required min="0" max="120">
                </div>

                <div class="form-group">
                    <label>Sesso:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="gender" value="Maschio" required>
                            Maschio
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="gender" value="Femmina">
                            Femmina
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="education">Titolo di Studio:</label>
                    <select id="education" required>
                        <option value="">Seleziona...</option>
                        <option value="Licenza media">Licenza media</option>
                        <option value="Titolo di istruzione secondaria superiore">Titolo di istruzione secondaria superiore</option>
                        <option value="Laurea">Laurea</option>
                        <option value="Master">Master</option>
                        <option value="Dottorato">Dottorato</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="city">Città:</label>
                    <select id="city" required>
                        <option value="">Seleziona...</option>
                        <option value="Agrigento">Agrigento</option>
                        <option value="Alessandria">Alessandria</option>
                        <option value="Ancona">Ancona</option>
                        <option value="Aosta">Aosta</option>
                        <option value="Arezzo">Arezzo</option>
                        <option value="Ascoli Piceno">Ascoli Piceno</option>
                        <option value="Asti">Asti</option>
                        <option value="Avellino">Avellino</option>
                        <option value="Bari">Bari</option>
                        <option value="Barletta">Barletta</option>
                        <option value="Belluno">Belluno</option>
                        <option value="Benevento">Benevento</option>
                        <option value="Bergamo">Bergamo</option>
                        <option value="Biella">Biella</option>
                        <option value="Bologna">Bologna</option>
                        <option value="Bolzano">Bolzano</option>
                        <option value="Brescia">Brescia</option>
                        <option value="Brindisi">Brindisi</option>
                        <option value="Cagliari">Cagliari</option>
                        <option value="Caltanissetta">Caltanissetta</option>
                        <option value="Campobasso">Campobasso</option>
                        <option value="Caserta">Caserta</option>
                        <option value="Catania">Catania</option>
                        <option value="Catanzaro">Catanzaro</option>
                        <option value="Chieti">Chieti</option>
                        <option value="Como">Como</option>
                        <option value="Cosenza">Cosenza</option>
                        <option value="Cremona">Cremona</option>
                        <option value="Cuneo">Cuneo</option>
                        <option value="Enna">Enna</option>
                        <option value="Fermo">Fermo</option>
                        <option value="Ferrara">Ferrara</option>
                        <option value="Firenze">Firenze</option>
                        <option value="Foggia">Foggia</option>
                        <option value="Forlì">Forlì</option>
                        <option value="Genova">Genova</option>
                        <option value="Gorizia">Gorizia</option>
                        <option value="Grosseto">Grosseto</option>
                        <option value="Imperia">Imperia</option>
                        <option value="Isernia">Isernia</option>
                        <option value="L'Aquila">L'Aquila</option>
                        <option value="La Spezia">La Spezia</option>
                        <option value="Latina">Latina</option>
                        <option value="Lecce">Lecce</option>
                        <option value="Lecco">Lecco</option>
                        <option value="Livorno">Livorno</option>
                        <option value="Lodi">Lodi</option>
                        <option value="Lucca">Lucca</option>
                        <option value="Macerata">Macerata</option>
                        <option value="Mantova">Mantova</option>
                        <option value="Massa-Carrara">Massa-Carrara</option>
                        <option value="Matera">Matera</option>
                        <option value="Messina">Messina</option>
                        <option value="Milano">Milano</option>
                        <option value="Modena">Modena</option>
                        <option value="Napoli">Napoli</option>
                        <option value="Novara">Novara</option>
                        <option value="Nuoro">Nuoro</option>
                        <option value="Oristano">Oristano</option>
                        <option value="Padova">Padova</option>
                        <option value="Palermo">Palermo</option>
                        <option value="Parma">Parma</option>
                        <option value="Pavia">Pavia</option>
                        <option value="Perugia">Perugia</option>
                        <option value="Pesaro e Urbino">Pesaro e Urbino</option>
                        <option value="Pescara">Pescara</option>
                        <option value="Piacenza">Piacenza</option>
                        <option value="Pisa">Pisa</option>
                        <option value="Pistoia">Pistoia</option>
                        <option value="Pordenone">Pordenone</option>
                        <option value="Potenza">Potenza</option>
                        <option value="Prato">Prato</option>
                        <option value="Ragusa">Ragusa</option>
                        <option value="Ravenna">Ravenna</option>
                        <option value="Reggio Calabria">Reggio Calabria</option>
                        <option value="Reggio Emilia">Reggio Emilia</option>
                        <option value="Rieti">Rieti</option>
                        <option value="Rimini">Rimini</option>
                        <option value="Roma">Roma</option>
                        <option value="Rovigo">Rovigo</option>
                        <option value="Salerno">Salerno</option>
                        <option value="Sassari">Sassari</option>
                        <option value="Savona">Savona</option>
                        <option value="Siena">Siena</option>
                        <option value="Siracusa">Siracusa</option>
                        <option value="Sondrio">Sondrio</option>
                        <option value="Taranto">Taranto</option>
                        <option value="Teramo">Teramo</option>
                        <option value="Terni">Terni</option>
                        <option value="Torino">Torino</option>
                        <option value="Trapani">Trapani</option>
                        <option value="Trento">Trento</option>
                        <option value="Treviso">Treviso</option>
                        <option value="Trieste">Trieste</option>
                        <option value="Udine">Udine</option>
                        <option value="Varese">Varese</option>
                        <option value="Venezia">Venezia</option>
                        <option value="Verbania">Verbania</option>
                        <option value="Vercelli">Vercelli</option>
                        <option value="Verona">Verona</option>
                        <option value="Vicenza">Vicenza</option>
                        <option value="Viterbo">Viterbo</option>
                    </select>
                </div>

                <button type="submit">
                    <i class="fas fa-save"></i> Salva Dati
                </button>
            </form>
        </div>

        <div class="data-display fade-in">
            <h2><i class="fas fa-table"></i> Dati Inseriti</h2>
            <div class="table-container">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cognome</th>
                            <th>Età</th>
                            <th>Sesso</th>
                            <th>Titolo di Studio</th>
                            <th>Città</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h3 class="chart-title">Distribuzione per Sesso</h3>
                    <canvas id="genderChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3 class="chart-title">Distribuzione Geografica</h3>
                    <canvas id="cityChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const dataTable = document.getElementById('dataTable').getElementsByTagName('tbody')[0];
        const genderChartCtx = document.getElementById('genderChart').getContext('2d');
        const cityChartCtx = document.getElementById('cityChart').getContext('2d');

        let genderCounts = { Maschio: 0, Femmina: 0 };
        let cityCounts = {};

        const genderChart = new Chart(genderChartCtx, {
            type: 'pie',
            data: {
                labels: Object.keys(genderCounts),
                datasets: [{
                    label: 'Distribuzione Sesso',
                    data: Object.values(genderCounts),
                    backgroundColor: ['#3498db', '#e74c3c'],
                }]
            }
        });

        const cityChart = new Chart(cityChartCtx, {
            type: 'doughnut',
            data: {
                labels: [],
                datasets: [{
                    label: 'Luogo di Residenza',
                    data: [],
                    backgroundColor: Array.from({ length: 50 }, (_, i) => `hsl(${(i / 50) * 360}, 100%, 50%)`),
                }]
            }
        });

        document.getElementById('dataForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const age = document.getElementById('age').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const education = document.getElementById('education').value;
            const city = document.getElementById('city').value;

            // Aggiungi i dati alla tabella
            const newRow = dataTable.insertRow();
            newRow.innerHTML = `<td>${firstName}</td><td>${lastName}</td><td>${age}</td><td>${gender}</td><td>${education}</td><td>${city}</td>`;

            // Aggiorna le statistiche
            genderCounts[gender]++;
            if (cityCounts[city]) {
                cityCounts[city]++;
            } else {
                cityCounts[city] = 1;
            }

            updateCharts();
            this.reset(); // Resetta il modulo
        });

        function updateCharts() {
            // Aggiorna il grafico del sesso
            genderChart.data.datasets[0].data = Object.values(genderCounts);
            genderChart.update();

            // Aggiorna il grafico del luogo di residenza
            cityChart.data.labels = Object.keys(cityCounts);
            cityChart.data.datasets[0].data = Object.values(cityCounts);
            cityChart.update();
        }
    </script>
</body>
</html>